(function(e){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=e()}else if(typeof define==="function"&&define.amd){define([],e)}else{var t;if(typeof window!=="undefined"){t=window}else if(typeof global!=="undefined"){t=global}else if(typeof self!=="undefined"){t=self}else{t=this}t.ractiveAdaptorsParse=e()}})(function(){var e,t,n;return function i(e,t,n){function r(o,f){if(!t[o]){if(!e[o]){var u=typeof require=="function"&&require;if(!f&&u)return u(o,!0);if(s)return s(o,!0);var a=new Error("Cannot find module '"+o+"'");throw a.code="MODULE_NOT_FOUND",a}var l=t[o]={exports:{}};e[o][0].call(l.exports,function(t){var n=e[o][1][t];return r(n?n:t)},l,l.exports,i,e,t,n)}return t[o].exports}var s=typeof require=="function"&&require;for(var o=0;o<n.length;o++)r(n[o]);return r}({1:[function(e,t,n){function i(){this._events=this._events||{};this._maxListeners=this._maxListeners||undefined}t.exports=i;i.EventEmitter=i;i.prototype._events=undefined;i.prototype._maxListeners=undefined;i.defaultMaxListeners=10;i.prototype.setMaxListeners=function(e){if(!s(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");this._maxListeners=e;return this};i.prototype.emit=function(e){var t,n,i,s,u,a;if(!this._events)this._events={};if(e==="error"){if(!this._events.error||o(this._events.error)&&!this._events.error.length){t=arguments[1];if(t instanceof Error){throw t}throw TypeError('Uncaught, unspecified "error" event.')}}n=this._events[e];if(f(n))return false;if(r(n)){switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1);n.apply(this,s)}}else if(o(n)){s=Array.prototype.slice.call(arguments,1);a=n.slice();i=a.length;for(u=0;u<i;u++)a[u].apply(this,s)}return true};i.prototype.addListener=function(e,t){var n;if(!r(t))throw TypeError("listener must be a function");if(!this._events)this._events={};if(this._events.newListener)this.emit("newListener",e,r(t.listener)?t.listener:t);if(!this._events[e])this._events[e]=t;else if(o(this._events[e]))this._events[e].push(t);else this._events[e]=[this._events[e],t];if(o(this._events[e])&&!this._events[e].warned){if(!f(this._maxListeners)){n=this._maxListeners}else{n=i.defaultMaxListeners}if(n&&n>0&&this._events[e].length>n){this._events[e].warned=true;console.error("(node) warning: possible EventEmitter memory "+"leak detected. %d listeners added. "+"Use emitter.setMaxListeners() to increase limit.",this._events[e].length);if(typeof console.trace==="function"){console.trace()}}}return this};i.prototype.on=i.prototype.addListener;i.prototype.once=function(e,t){if(!r(t))throw TypeError("listener must be a function");var n=false;function i(){this.removeListener(e,i);if(!n){n=true;t.apply(this,arguments)}}i.listener=t;this.on(e,i);return this};i.prototype.removeListener=function(e,t){var n,i,s,f;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;n=this._events[e];s=n.length;i=-1;if(n===t||r(n.listener)&&n.listener===t){delete this._events[e];if(this._events.removeListener)this.emit("removeListener",e,t)}else if(o(n)){for(f=s;f-- >0;){if(n[f]===t||n[f].listener&&n[f].listener===t){i=f;break}}if(i<0)return this;if(n.length===1){n.length=0;delete this._events[e]}else{n.splice(i,1)}if(this._events.removeListener)this.emit("removeListener",e,t)}return this};i.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener){if(arguments.length===0)this._events={};else if(this._events[e])delete this._events[e];return this}if(arguments.length===0){for(t in this._events){if(t==="removeListener")continue;this.removeAllListeners(t)}this.removeAllListeners("removeListener");this._events={};return this}n=this._events[e];if(r(n)){this.removeListener(e,n)}else if(n){while(n.length)this.removeListener(e,n[n.length-1])}delete this._events[e];return this};i.prototype.listeners=function(e){var t;if(!this._events||!this._events[e])t=[];else if(r(this._events[e]))t=[this._events[e]];else t=this._events[e].slice();return t};i.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;else if(t)return t.length}return 0};i.listenerCount=function(e,t){return e.listenerCount(t)};function r(e){return typeof e==="function"}function s(e){return typeof e==="number"}function o(e){return typeof e==="object"&&e!==null}function f(e){return e===void 0}},{}],2:[function(e,t,n){(function(n){var i,r,s,o,f,u,a;s=typeof window!=="undefined"?window["Ractive"]:typeof n!=="undefined"?n["Ractive"]:null;r=typeof window!=="undefined"?window["Parse"]:typeof n!=="undefined"?n["Parse"]:null;i=e("events");u=new i;t.exports=f={Parse:r=(typeof window!=="undefined"?window["Parse"]:typeof n!=="undefined"?n["Parse"]:null)||null,filter:function(e){var t;if(((t=this.Parse)!=null?t.Object:void 0)==null){throw new Error("Could not find Parse. You must do `adaptor.Parse = Parse` - see https://github.com/cprecioso/ractive-adaptor-ractive#installation for more information")}r=this.Parse;return e instanceof this.Parse.Object},wrap:function(e,t,n,i){return new o(e,t,n,i)}};o=function(){var e,t,n;n=function(e,t){var n;n=r.Object.prototype.set.apply(this,arguments);if(!!n){u.emit(this.className+"-"+this.id,this,e)}return n};t=function(e,t,n){return this._fetch.apply(this,arguments).then(function(t){u.emit(t.className+"-"+t.id,e,false);return user})};e=function(e,t,n,i){return function(r){return function(r,s){var o;if(r===i){if(s===false){return e.update(t)}else{return e.set(n((o={},o[""+s]=r.get("key"),o)))}}}}(this)};function i(i,s,o,f){var a;this.ractive=i;this.object=s;this.object.set=n;a=r.CoreManager.getObjectController();if(!a.ractiveParseWrapper){a._fetch=a.fetch;a.fetch=t;a.ractiveParseWrapper=true}this.listener=[this.object.className+"-"+this.object.id,e(this.ractive,o,f,this.object)];u.addListener.apply(u,this.listener)}i.prototype.get=function(){return this.object.attributes};i.prototype.set=function(e,t){return r.Object.prototype.set.apply(this.object,arguments)};i.prototype.teardown=function(){u.removeListener.apply(u,this.listener);return delete this.object.set};i.prototype.reset=function(){return false};return i}();if((a=typeof window!=="undefined"?window["Ractive"]:typeof n!=="undefined"?n["Ractive"]:null)!=null){a.adaptors.Parse=f}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{events:1}]},{},[2])(2)});
